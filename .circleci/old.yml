  # - &store_target_dir
  #   store_artifacts:
  #     path: ~/project/target
  # - &bench_crate
  #         command: cargo test --release --manifest-path "./benches/$CIRCLE_JOB/Cargo.toml"
  #     - persist_to_workspace: LOLBENCH_DATA_DIR


  #     - run:
  #         name: build website
  #         command: |
  #           pushd ..
  #           mkdir lolbench-site
  #           git clone https://github.com/anp/lolbench-data.git
  #           popd

  #           cargo build-website --data-dir ../lolbench-data --output-dir ~/lolbench-site
  #     - store_artifacts:
  #         path: ~/lolbench-site

  # screenshots:
  #   docker:
  #     - image: circleci/node:10
  #   steps:
  #     - checkout
  #     - attach_workspace:
  #         at: ~/lolbench-site
  #     - run:
  #         name: install chromium
  #         command: |
  #           sudo apt-get update
  #           # https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md
  #           sudo apt-get install \
  #             gconf-service libasound2 libatk1.0-0 libatk-bridge2.0-0 libc6 libcairo2 libcups2 \
  #             libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 \
  #             libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 \
  #             libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 \
  #             libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates \
  #             fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
  #     - run:
  #         name: install script deps
  #         working_directory: tools
  #         command: npm ci
  #     - run:
  #         name: take screenshots
  #         working_directory: tools
  #         command: npm run screenshots -- --siteDir ~/lolbench-site --outputDir ~/screenshots
  #     - store_artifacts:
  #         path: ~/screenshots

  # deploy:
  #     - run: sudo apt-get install ansible
  #     - run: ./deploy.sh $CIRCLE_SHA1

  # rebalance:
  #   <<: *rust_job
  #   steps:
  #     - attach_workspace:
  #         at: /tmp/lolbench
  #     - run: cargo rebalance-benchmarks --sample-dir /tmp/lolbench
  #     - run: cd /tmp && tar -cvzf lolbench-data-dir.tar.gz lolbench
  #     - store_artifacts:
  #         path: registry.toml
  #     - store_artifacts:
  #         path: /tmp/lolbench
  #     - store_artifacts:
  #         path: /tmp/lolbench-data-dir.tar.gz


      # - deploy:
      #     filters:
      #       branches:
      #         only:
      #           - master
      #     requires:
      #       - fmt
      #       - core
      #       - rebalance
      #       - screenshots
