{% extends "base.html" %}

{% block title %}home{% endblock %}

{% block content %}
<h1>lolbench home</h1>

<b><a href="#recent-changes">potentially anomalous results</a> | <a href="#all-benchmarks">all
        benchmarks</a></b>

<h2>about</h2>

<p>benchmarks of binaries generated by rustc</p>
<p><a href="https://github.com/anp/lolbench">project on github</a></p>
<p>
    most benchmark suites track the performance of a program as the implementation changes.
    lolbench
    does this as well, but the only implementation detail that's allowed to change is the version
    of the rust toolchain used. currently runs benchmarks with each nightly.
</p>

<h2><a id="recent-changes" />potentially anomalous results</h2>

<p>
    each entry here passes some statistical tests for being "interesting" results, but has not
    necessarily been manually reproduced and confirmed as a regression or improvement. in the near
    future we hope to allow marking these anomalous results as "resolved" and associating them with
    commit and/or issue metadata. see
    <a target="_blank" href="https://github.com/anp/lolbench/issues/14">the relevant github issue</a>
    if you'd like to help with that!
</p>

<p>
    values for comparisons are function runtimes in nanoseconds, a smaller delta is better (ideally
    negative). most likely anomalies first, % and stddev measured from sample mean of preceding
    toolchains' results.
</p>

{% for anomaly in analysis.anomalous_timings %}
<a id="{{ anomaly.0 }}"></a>
<h3><a href="#{{ anomaly.0 }}">*</a> {{ anomaly.0 }}</h3>

<table border="1">
    <thead>
        <th>benchmark</th>
        <th>% &Delta;</th>
        <th>&sigma; &Delta;</th>
    </thead>

    {% for noteworthy in anomaly.1 %}
    <tr>
        <td>{{ noteworthy.benchmark_for_linking().link()|safe }}</td>
        <td {% if noteworthy.index.nanoseconds.stddev_from_mean.is_sign_negative() -%} bgcolor="#b3ffc6"
            {% else %} bgcolor="#ffb3b3" {%- endif %}>{{ noteworthy.index.nanoseconds.percent_delta_from_mean.raw()|float_fmt }}
            %</td>
        <td {% if noteworthy.index.nanoseconds.stddev_from_mean.is_sign_negative() -%} bgcolor="#b3ffc6"
            {% else %} bgcolor="#ffb3b3" {%- endif %}>{{ noteworthy.index.nanoseconds.stddev_from_mean.raw()|float_fmt }}</td>
    </tr>
    {% endfor %}
</table>
{% endfor %}

<h2><a id="all-benchmarks" />all benchmarks</h2>

<table border="1">
    <tbody>
        {% for benchmark in benchmarks %}
        <tr>
            <td>
                {{benchmark.link()|safe}}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
